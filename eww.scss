$theme: "rose-pine";

$themes: (
  "tokyonight": (
    "bg-layer-1": #1a1b26,
    "bg-layer-2": #24283b,
    "bg-layer-3": #414868,
    "bg-layer-4": #565f89,
    "bg-layer-5": #9aa5ce,
    "text": #c0caf5,
    "muted": #a9b1d6,
    "accent-1": #f7768e,
    "accent-2": #e0af68,
    "accent-3": #7dcfff,
    "accent-4": #73daca,
    "accent-5": #7aa2f7,
    "accent-6": #bb9af7,
    "border-radius": 9px,
    "bg-opacity": 1,
    "btn-opacity": 1,
    "btn-hover-opacity": 1,
    "notification-opacity": 1,
    "notification-border-size": 0,
  ),
  "rose-pine": (
    "bg-layer-1": #191724,
    "bg-layer-2": #1f1d2e,
    "bg-layer-3": #26233a,
    "bg-layer-4": #403d52,
    "bg-layer-5": #524f67,
    "text": #e0def4,
    "muted": #6e6a86,
    "accent-1": #eb6f92,
    "accent-2": #f6c177,
    "accent-3": #ebbcba,
    "accent-4": #31748f,
    "accent-5": #9ccfd8,
    "accent-6": #c4a7e7,
    "border-radius": 9px,
    "bg-opacity": 1,
    "btn-opacity": 1,
    "btn-hover-opacity": 1,
    "notification-opacity": 1,
    "notification-border-size": 0,
  ),
);

@function get-value($value) {
  @return map-get(map-get($themes, $theme), $value);
}

@mixin background-opacity($color, $opacity) {
  background-color: rgba($color, $opacity);
}

* {
  all: unset;
  color: get-value("text");
}

.section {
  @include background-opacity(get-value("bg-layer-1"), get-value("bg-opacity"));
  border-radius: get-value("border-radius");
  padding: 0 10px;
}

.btn {
  border-radius: get-value("border-radius");

  &:hover {
    @include background-opacity(
      get-value("bg-layer-4"),
      get-value("btn-hover-opacity")
    );
  }
}

.bar {
  font-family: SF Pro Rounded;
  font-weight: 500;
  font-size: 0.9em;
  margin: 10px;
  margin-bottom: 0;
}

.icon {
  font-family: Segoe Fluent Icons;
}

.app-menu {
  font-size: 1.4em;

  label {
    transition: color 500ms;
  }

  &:hover {
    label {
      color: get-value("accent-5");
    }
  }
}

.text-btn {
  &:hover {
    label {
      color: get-value("accent-1");
    }
  }
}

.workspaces {
  .workspace-btn {
    transition: color 500ms;

    label {
      font-size: 1.2em;
      margin: 0 4px;
    }

    &:hover {
      label {
        color: get-value("accent-2");
      }
    }
  }
}

.volume {
  .volume-icon {
    font-size: 1.2em;
  }
}

.network {
  .wifi-icon {
    font-size: 1.3em;
  }
}

.text-bold {
  font-weight: 600;
}

.widgets {
  margin-top: 10px;
  margin-right: 10px;
  margin-bottom: 50px;
  padding: 10px;
  border-radius: get-value("border-radius");
  @include background-opacity(get-value("bg-layer-2"), get-value("bg-opacity"));

  .widget {
    @include background-opacity(
      get-value("bg-layer-3"),
      get-value("bg-opacity")
    );

    padding: 14px;
    border-radius: get-value("border-radius");
  }
}

.system-menu {
  margin-top: 10px;
  margin-left: 10px;
  margin-bottom: 50px;
  padding: 10px;
  border-radius: get-value("border-radius");
  @include background-opacity(get-value("bg-layer-2"), get-value("bg-opacity"));

  .session-buttons {
    .session-btn {
      box {
        @include background-opacity(
          get-value("bg-layer-3"),
          get-value("bg-opacity")
        );
        padding: 5px 14px;
        border-radius: get-value("border-radius");
        font-size: 1.5em;
      }

      &:hover box {
        @include background-opacity(
          get-value("bg-layer-4"),
          get-value("bg-opacity")
        );

        label {
          color: get-value("accent-6");
        }
      }

      &.session-btn-lock {
        font-size: 1.2em;
      }

      &.session-btn-sleep {
        font-size: 2em;
      }

      &.session-btn-restart {
        font-size: 2em;
      }
    }
  }
}

.notifications-indicator {
  font-size: 2em;
}

.notification-list {
  .notification-list-header {
    margin-bottom: 10px;

    .notification-list-header-label {
      font-size: 1.2em;
      font-weight: 600;
    }

    .dnd-button {
      @include background-opacity(
        get-value("bg-layer-3"),
        get-value("btn-opacity")
      );
      border-radius: get-value("border-radius");
      font-size: 1.6em;

      label {
        padding: 0 0.4em;
      }

      &:hover {
        @include background-opacity(
          get-value("bg-layer-4"),
          get-value("btn-hover-opacity")
        );
      }
    }

    .notification-clear {
      @include background-opacity(
        get-value("bg-layer-3"),
        get-value("btn-opacity")
      );
      border-radius: get-value("border-radius");

      box {
        padding: 0.4em 1em;
      }

      &:hover {
        @include background-opacity(
          get-value("bg-layer-4"),
          get-value("btn-hover-opacity")
        );
      }
    }
  }

  .notification-list-expand-button {
    label {
      padding: 0.4em 0.5em;
      @include background-opacity(
        get-value("bg-layer-3"),
        get-value("btn-opacity")
      );
      border-radius: get-value("border-radius");
    }

    &:hover label {
      @include background-opacity(
        get-value("bg-layer-4"),
        get-value("btn-hover-opacity")
      );
    }
  }

  .notification-group {
    .notification-group-header {
      .notification-group-name {
        font-size: 1.2em;
        font-weight: 600;
      }

      .notification-group-collapse-btn {
        box {
          padding: 0.4em 0.5em;
          @include background-opacity(
            get-value("bg-layer-3"),
            get-value("btn-opacity")
          );
          border-radius: get-value("border-radius");
        }

        &:hover box {
          @include background-opacity(
            get-value("bg-layer-4"),
            get-value("btn-hover-opacity")
          );
        }
      }
    }

    .notification-group-expand-button-box {
      margin-top: 10px;

      .notification-group-expand-button {
        label {
          padding: 0.4em 1em;
          @include background-opacity(
            get-value("bg-layer-4"),
            get-value("btn-opacity")
          );
          border-radius: get-value("border-radius");
        }

        &:hover label {
          @include background-opacity(
            get-value("bg-layer-5"),
            get-value("btn-hover-opacity")
          );
        }
      }
    }

    .notification-group-expanded {
      margin-bottom: 10px;
    }
  }
}

.notification-popups {
  margin-top: 10px;
  margin-right: 10px;
}

.notification-dismiss {
  border-radius: 999px;

  &:hover label {
    color: get-value("accent-1");
  }
}

.notification {
  border-radius: get-value("border-radius");
  padding: 0.75em;
  @include background-opacity(
    get-value("bg-layer-3"),
    get-value("notification-opacity")
  );

  &.notification-low {
    border: get-value("notification-border-size") solid get-value("accent-4");
  }

  &.notification-normal {
    border: get-value("notification-border-size") solid get-value("accent-5");
  }

  &.notification-critical {
    border: get-value("notification-border-size") solid get-value("accent-1");
  }

  .notification-container {
    .notification-summary {
      font-weight: 600;
    }
  }

  .notification-action-button-box {
    margin-top: 10px;

    .notification-action-button {
      @include background-opacity(
        get-value("bg-layer-4"),
        get-value("btn-opacity")
      );
      border-radius: get-value("border-radius");
      font-weight: 500;

      &:hover {
        @include background-opacity(
          get-value("bg-layer-5"),
          get-value("btn-hover-opacity")
        );
      }

      label {
        padding: 0.25em;
      }
    }
  }
}

.control-center {
  margin-top: 10px;
  margin-right: 10px;
  margin-bottom: 50px;
  padding: 10px;
  border-radius: get-value("border-radius");
  @include background-opacity(get-value("bg-layer-2"), get-value("bg-opacity"));

  .sound-box {
    padding: 15px;
    @include background-opacity(
      get-value("bg-layer-3"),
      get-value("bg-opacity")
    );
    border-radius: get-value("border-radius");

    .volume-slider {
      trough {
        background-color: get-value("muted");
        border-radius: 50px;
        min-height: 8px;

        highlight {
          background-color: get-value("accent-5");
          border-radius: get-value("border-radius");
        }
      }
    }
  }
}
